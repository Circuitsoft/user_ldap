default:
  autoload:
    '': %paths.base%/../features/bootstrap
  extensions:
    SensioLabs\Behat\PageObjectExtension: ~

  suites:
    webUICore:
      paths:
        - %paths.base%/../../../../../tests/acceptance/features/webUILogin
        - %paths.base%/../../../../../tests/acceptance/features/webUIRestrictSharing
        - %paths.base%/../../../../../tests/acceptance/features/webUISharingExternal
        - %paths.base%/../../../../../tests/acceptance/features/webUISharingInternalGroups
        - %paths.base%/../../../../../tests/acceptance/features/webUISharingInternalUsers
      context: &common_webui_suite_context
        parameters:
          ocPath: apps/testing/api/v1/occ
          adminUsername: admin
          adminPassword: admin
          ldapAdminUser: cn=admin,dc=owncloud,dc=com
          ldapAdminPassword: admin
          ldapBaseDN: dc=owncloud,dc=com
          ldapHost: localhost
          ldapHostDrone: ldap
          ldapUsersOU: TestUsers
          ldapGroupsOU: TestGroups
          ldapInitialUserFilePath: /../../config/ldap-users.ldif
          regularUserPassword: 123456
      contexts:
        - UserLdapGeneralContext:
        - FeatureContext: &common_feature_context_params
            baseUrl:  http://localhost:8080
            adminUsername: admin
            adminPassword: admin
            regularUserPassword: 123456
            ocPath: ../../../../
        - WebUIGeneralContext:
        - WebUILoginContext:
        - WebUIFilesContext:
        - WebUISharingContext:
        - FederationContext:
        - WebUIPersonalGeneralSettingsContext:
        - EmailContext:

    webUIUserLDAP:
      paths:
        - %paths.base%/../features/webUIUserLDAP
      context: *common_webui_suite_context
      contexts:
        - UserLdapGeneralContext:
        - UserLdapUsersContext:
        - FeatureContext: *common_feature_context_params
        - WebUIGeneralContext:
        - WebUILoginContext:
        - WebUIUserContext:
        - WebUISharingContext:
        - WebUIFilesContext:
